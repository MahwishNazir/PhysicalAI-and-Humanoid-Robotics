# Tasks: Docusaurus Book Interface Setup

**Input**: Design documents from `/specs/001-docusaurus-setup/`
**Prerequisites**: plan.md (required), spec.md (required for user stories), research.md, data-model.md, contracts/, quickstart.md

**Tests**: Tests are NOT explicitly requested in the specification, so test tasks are omitted. Testing will be done manually through browser verification.

**Organization**: Tasks are grouped by user story to enable independent implementation and testing of each story.

## Format: `[ID] [P?] [Story] Description`

- **[P]**: Can run in parallel (different files, no dependencies)
- **[Story]**: Which user story this task belongs to (e.g., US1, US2, US3)
- Include exact file paths in descriptions

## Path Conventions

This is a documentation/book project using Docusaurus conventions:
- **Project root**: All Docusaurus files
- **Content**: `docs/` directory for chapters
- **Assets**: `static/` for images and resources
- **Config**: `docusaurus.config.js`, `sidebars.js`

---

## Phase 1: Setup (Project Initialization)

**Purpose**: Initialize Docusaurus project and create basic directory structure

- [x] T001 Verify Node.js 18.0+ and npm are installed (run `node --version` and `npm --version`)
- [x] T002 Initialize Docusaurus using `npx create-docusaurus@latest . classic --typescript=false` in project root
- [x] T003 Clean up default content by removing `blog/`, `docs/tutorial-basics/`, and `docs/tutorial-extras/` directories
- [x] T004 [P] Create asset directory structure: `static/img/part-01/`, `static/img/part-02/`, `static/downloads/`
- [x] T005 [P] Create `.gitignore` file with entries for `node_modules/`, `/build`, `.docusaurus/`, `.DS_Store`

---

## Phase 2: User Story 1 - Initial Book Structure Setup (Priority: P1) ðŸŽ¯ MVP

**Goal**: Set up Docusaurus with basic book structure so authors can start organizing content

**Independent Test**: Verify Docusaurus runs at localhost:3000, displays homepage with welcoming introduction, and shows sidebar with basic navigation structure

### Configuration Tasks

- [ ] T006 [US1] Update `docusaurus.config.js` to set book title, tagline, and basic metadata
- [ ] T007 [US1] Configure docs plugin in `docusaurus.config.js` with `routeBasePath: '/'` and `blog: false`
- [ ] T008 [US1] Configure navbar in `docusaurus.config.js` with book title, logo, and search position
- [ ] T009 [US1] Configure sidebar options in `docusaurus.config.js` with `hideable: true` and `autoCollapseCategories: true`
- [ ] T010 [US1] Configure theme (Prism syntax highlighting, color mode) in `docusaurus.config.js`
- [ ] T011 [US1] Update `sidebars.js` to use autogenerated sidebar with `type: 'autogenerated'` and `dirName: '.'`

### Content Structure Tasks

- [ ] T012 [US1] Update `docs/intro.md` with welcoming book introduction including title, what readers will learn, how to use the book, and prerequisites
- [ ] T013 [P] [US1] Create part directory `docs/part-01-introduction/`
- [ ] T014 [P] [US1] Create part directory `docs/part-02-core-concepts/`
- [ ] T015 [P] [US1] Create part directory `docs/appendix/`
- [ ] T016 [P] [US1] Create `docs/part-01-introduction/_category_.json` with label "Part I: Introduction", position 1, collapsible true
- [ ] T017 [P] [US1] Create `docs/part-02-core-concepts/_category_.json` with label "Part II: Core Concepts", position 2, collapsible true
- [ ] T018 [P] [US1] Create `docs/appendix/_category_.json` with label "Appendix", position 3, collapsible true, collapsed true

### Verification Tasks

- [ ] T019 [US1] Install dependencies with `npm install`
- [ ] T020 [US1] Start development server with `npm start` and verify it runs at localhost:3000
- [ ] T021 [US1] Verify homepage displays introduction content correctly
- [ ] T022 [US1] Verify sidebar shows three part categories (Part I, Part II, Appendix)
- [ ] T023 [US1] Verify search bar appears in navbar
- [ ] T024 [US1] Test responsive design on mobile viewport (375px width minimum)

**Checkpoint**: At this point, Docusaurus is running with basic book structure. Sidebar shows empty parts ready for chapters.

---

## Phase 3: User Story 2 - Add and Organize Chapters (Priority: P2)

**Goal**: Add chapters and organize them into logical parts so readers can navigate the book's content structure

**Independent Test**: Create multiple chapters, verify they appear in sidebar navigation in correct order, clicking each chapter loads correct content, parts group chapters appropriately

### Create Sample Chapters for Part I

- [ ] T025 [P] [US2] Create `docs/part-01-introduction/01-getting-started.md` with frontmatter (title, sidebar_label, sidebar_position: 1, description, tags) and content explaining basics and setup
- [ ] T026 [P] [US2] Create `docs/part-01-introduction/02-foundational-concepts.md` with frontmatter (title, sidebar_label, sidebar_position: 2, description, tags) and content explaining core principles

### Create Sample Chapters for Part II

- [ ] T027 [P] [US2] Create `docs/part-02-core-concepts/01-first-concept.md` with frontmatter and content
- [ ] T028 [P] [US2] Create `docs/part-02-core-concepts/02-second-concept.md` with frontmatter and content

### Create Appendix Content

- [ ] T029 [P] [US2] Create `docs/appendix/glossary.md` with frontmatter (title: "Glossary") and sample glossary terms
- [ ] T030 [P] [US2] Create `docs/appendix/references.md` with frontmatter (title: "References") and sample references

### Sidebar Configuration Verification

- [ ] T031 [US2] Verify all chapters automatically appear in sidebar under correct parts
- [ ] T032 [US2] Verify chapter ordering matches sidebar_position or filename numbering
- [ ] T033 [US2] Test expanding and collapsing part categories in sidebar
- [ ] T034 [US2] Verify clicking each chapter in sidebar loads correct content
- [ ] T035 [US2] Test reordering a chapter by changing its sidebar_position frontmatter value and verifying sidebar updates

### Section Outline Verification

- [ ] T036 [US2] Add multiple H2 and H3 headings to a chapter and verify right sidebar shows table of contents with section outline
- [ ] T037 [US2] Verify clicking on section headings in TOC scrolls to correct section

**Checkpoint**: All chapters display correctly in organized sidebar. Navigation works. Each user story independently functional.

---

## Phase 4: User Story 3 - Chapter Content Management (Priority: P3)

**Goal**: Write and format chapter content using markdown to create rich, readable content with text, images, code examples, and media

**Independent Test**: Write sample content with various markdown features (headings, lists, code blocks, images, links) and verify they render correctly in browser

### Rich Markdown Content

- [ ] T038 [P] [US3] Add markdown formatting examples to a chapter: bold, italic, lists (ordered and unordered), blockquotes
- [ ] T039 [P] [US3] Add code block with syntax highlighting to a chapter (use ` ```javascript ` for example)
- [ ] T040 [P] [US3] Add callout boxes (admonitions) to a chapter using :::note, :::tip, :::warning, :::danger syntax

### Image Integration

- [ ] T041 [P] [US3] Add sample image file to `static/img/part-01/concept-diagram.png`
- [ ] T042 [US3] Reference image in chapter using `![Description](/img/part-01/concept-diagram.png)` markdown syntax
- [ ] T043 [US3] Verify image displays correctly in rendered chapter
- [ ] T044 [US3] Test image with missing file path and verify graceful error handling

### Internal Linking

- [ ] T045 [P] [US3] Add internal link between chapters using `[Link Text](./other-chapter.md)` or `[Link Text](/part-01/chapter)` format
- [ ] T046 [US3] Verify clicking internal link navigates to referenced chapter
- [ ] T047 [US3] Test broken internal link and verify build warning or error

### External Links and Downloads

- [ ] T048 [P] [US3] Add external link to a chapter using `[Link Text](https://example.com)` format
- [ ] T049 [P] [US3] Add downloadable resource to `static/downloads/sample.pdf`
- [ ] T050 [US3] Reference download in chapter using `[Download Sample](/downloads/sample.pdf)` markdown syntax

### Content Rendering Verification

- [ ] T051 [US3] Verify all markdown formatting (headings, paragraphs, lists) renders with proper HTML structure
- [ ] T052 [US3] Verify syntax highlighting works for multiple code languages (JavaScript, Python, bash)
- [ ] T053 [US3] Verify callout boxes render with correct styling and icons
- [ ] T054 [US3] Verify all internal and external links are clickable and functional

**Checkpoint**: All markdown features work correctly. Rich content displays beautifully.

---

## Phase 5: Polish & Cross-Cutting Concerns

**Purpose**: Final touches, styling, and production readiness

- [ ] T055 [P] Customize `src/css/custom.css` with optimal reading width (max-width: 720px for markdown), font sizes, and line heights
- [ ] T056 [P] Update footer in `docusaurus.config.js` with copyright and author information
- [ ] T057 [P] Add or customize favicon in `static/img/favicon.ico`
- [ ] T058 Test search functionality by searching for content and verifying results appear
- [ ] T059 Run production build with `npm run build` and verify no errors
- [ ] T060 Serve production build with `npm run serve` and verify it works correctly
- [ ] T061 Test final site on multiple browsers (Chrome, Firefox, Safari, Edge)
- [ ] T062 Test final site on mobile devices at different screen sizes (375px to 768px)
- [ ] T063 Verify all constitution principles are met (Content-First, Version Control, Consistency, Simplicity)

---

## Dependencies & Execution Order

### Phase Dependencies

- **Setup (Phase 1)**: No dependencies - can start immediately
- **User Story 1 (Phase 2)**: Depends on Setup completion - this is the foundation
- **User Story 2 (Phase 3)**: Depends on User Story 1 (needs working Docusaurus with structure)
- **User Story 3 (Phase 4)**: Depends on User Story 2 (needs chapters to add rich content to)
- **Polish (Phase 5)**: Depends on all user stories being complete

### User Story Dependencies

- **User Story 1 (P1)**: Can start after Setup - BLOCKS all other user stories
- **User Story 2 (P2)**: Can start after User Story 1 - Needs basic structure in place
- **User Story 3 (P3)**: Can start after User Story 2 - Needs chapters to enhance with rich content

### Within Each User Story

- Configuration tasks before content tasks
- Directory creation before file creation
- Content creation before verification
- Individual features before integration testing

### Parallel Opportunities

- **Setup phase**: Tasks T004, T005 can run in parallel
- **User Story 1**: Tasks T013-T018 (directory and category file creation) can run in parallel after config tasks
- **User Story 2**: All chapter creation tasks (T025-T030) can run in parallel
- **User Story 3**: Most content enhancement tasks (T038-T041, T045, T048-T050) can run in parallel
- **Polish phase**: Tasks T055-T057 can run in parallel

---

## Parallel Example: User Story 2

```bash
# Launch all chapter creation tasks together:
Task: "Create docs/part-01-introduction/01-getting-started.md"
Task: "Create docs/part-01-introduction/02-foundational-concepts.md"
Task: "Create docs/part-02-core-concepts/01-first-concept.md"
Task: "Create docs/part-02-core-concepts/02-second-concept.md"
Task: "Create docs/appendix/glossary.md"
Task: "Create docs/appendix/references.md"
```

---

## Implementation Strategy

### MVP First (User Story 1 Only)

1. Complete Phase 1: Setup
2. Complete Phase 2: User Story 1
3. **STOP and VALIDATE**: Run `npm start`, verify book interface loads at localhost:3000 with sidebar and intro page
4. Demo/review if ready

**At this point you have a working book interface!** You can start writing chapters immediately.

### Incremental Delivery

1. Complete Setup + User Story 1 â†’ Working book interface (MVP!)
2. Add User Story 2 â†’ Chapters and navigation working
3. Add User Story 3 â†’ Rich content with images, code, links
4. Each story adds value without breaking previous functionality

### Recommended Order for Solo Author

1. **Phase 1 (Setup)**: 5-10 minutes
2. **Phase 2 (US1 - Basic Structure)**: 15-20 minutes â†’ **First milestone: viewable book**
3. **Phase 3 (US2 - Add Chapters)**: 20-30 minutes â†’ **Second milestone: navigable content**
4. **Phase 4 (US3 - Rich Content)**: 15-20 minutes â†’ **Third milestone: publication-ready**
5. **Phase 5 (Polish)**: 10-15 minutes

**Total estimated time**: 65-95 minutes (well under the 2-hour success criterion)

---

## Notes

- [P] tasks = different files, no dependencies
- [Story] label maps task to specific user story for traceability
- Each user story should be independently completable and testable
- Commit after each phase or user story completion
- Stop at any checkpoint to validate story independently
- Avoid: vague tasks, blocking dependencies within parallel sections

---

## Success Criteria Mapping

| Success Criterion | Verified By Tasks |
|-------------------|-------------------|
| SC-001: Setup in <30 min | T001-T024 (Phase 1-2) |
| SC-002: Add chapter in <1 min | T031-T035 (autogenerated sidebar) |
| SC-003: Search 90% success | T058 |
| SC-004: Load <2s | T060-T061 |
| SC-005: Navigation accuracy | T032-T035 |
| SC-006: Markdown renders 100% | T051-T054 |
| SC-007: Mobile readable | T024, T062 |

---

## Task Count Summary

- **Total Tasks**: 63
- **Setup Phase**: 5 tasks
- **User Story 1 (P1)**: 19 tasks
- **User Story 2 (P2)**: 13 tasks
- **User Story 3 (P3)**: 17 tasks
- **Polish Phase**: 9 tasks
- **Parallel Tasks**: 24 tasks marked [P]
- **Sequential Critical Path**: ~39 tasks

**Estimated Total Time**: 65-95 minutes (aligns with SC-001: setup <30 min + reasonable chapter creation time)
