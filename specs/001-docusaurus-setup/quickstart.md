# Quickstart Guide: Docusaurus Book Setup

**Feature**: 001-docusaurus-setup
**Date**: 2025-12-03
**Phase**: 1 - Design

## Overview

This quickstart guide provides step-by-step instructions for setting up Docusaurus as a book authoring platform and creating your first chapters. Follow these steps to go from empty project to working book interface in under 30 minutes.

## Prerequisites

Before starting, ensure you have:

- **Node.js 18.0+**: Check with `node --version`
- **npm or yarn**: Check with `npm --version` or `yarn --version`
- **Text editor**: VS Code, Sublime, or your preferred editor
- **Terminal/Command line access**
- **Git** (recommended): For version control

## Step 1: Initialize Docusaurus Project

### Using Official Scaffolding Tool

```bash
# Navigate to your book project directory
cd book-project

# Initialize Docusaurus (use npx to run without installing)
npx create-docusaurus@latest . classic --typescript=false

# When prompted:
# - Template: Select "classic"
# - TypeScript: Choose "No" (unless you prefer TypeScript)
```

**What this creates**:
```text
book-project/
├── blog/                  # Blog directory (can be removed for books)
├── docs/                  # Your book content goes here
│   ├── intro.md
│   └── tutorial-basics/   # Example content
├── src/
│   ├── components/
│   ├── css/
│   └── pages/
├── static/
│   └── img/
├── docusaurus.config.js   # Main configuration
├── sidebars.js            # Sidebar navigation
├── package.json
└── README.md
```

**Alternative: Manual Setup** (skip if using scaffolding tool above)

```bash
# Create package.json
npm init -y

# Install Docusaurus
npm install @docusaurus/core @docusaurus/preset-classic

# Create required directories
mkdir -p docs static src/css

# Create minimal config files (see templates below)
```

## Step 2: Clean Up Default Content

Remove example content that's not needed for a book:

```bash
# Remove blog (optional - only if not using blog features)
rm -rf blog

# Remove tutorial examples
rm -rf docs/tutorial-basics docs/tutorial-extras

# Keep docs/intro.md as your book introduction
```

## Step 3: Configure for Book Structure

### Edit `docusaurus.config.js`

Update the configuration for your book:

```javascript
// @ts-check
const {themes} = require('prism-react-renderer');
const lightTheme = themes.github;
const darkTheme = themes.dracula;

/** @type {import('@docusaurus/types').Config} */
const config = {
  title: 'Your Book Title',
  tagline: 'A comprehensive guide to...',
  favicon: 'img/favicon.ico',

  // Production URL (update when deploying)
  url: 'https://your-book-site.com',
  baseUrl: '/',

  // Deployment settings (update for your repo)
  organizationName: 'your-username',
  projectName: 'your-book',

  onBrokenLinks: 'throw',
  onBrokenMarkdownLinks: 'warn',

  i18n: {
    defaultLocale: 'en',
    locales: ['en'],
  },

  presets: [
    [
      'classic',
      /** @type {import('@docusaurus/preset-classic').Options} */
      ({
        docs: {
          routeBasePath: '/',  // Serve docs at root (book-centric)
          sidebarPath: './sidebars.js',
          editUrl: null,  // Disable edit links (or set to your repo)
        },
        blog: false,  // Disable blog for book-only site
        theme: {
          customCss: './src/css/custom.css',
        },
      }),
    ],
  ],

  themeConfig:
    /** @type {import('@docusaurus/preset-classic').ThemeConfig} */
    ({
      navbar: {
        title: 'Your Book Title',
        logo: {
          alt: 'Book Logo',
          src: 'img/logo.svg',
        },
        items: [
          {
            type: 'search',
            position: 'right',
          },
        ],
      },
      footer: {
        style: 'dark',
        copyright: `Copyright © ${new Date().getFullYear()} Your Name. Built with Docusaurus.`,
      },
      prism: {
        theme: lightTheme,
        darkTheme: darkTheme,
      },
      docs: {
        sidebar: {
          hideable: true,
          autoCollapseCategories: true,
        },
      },
      colorMode: {
        defaultMode: 'light',
        disableSwitch: false,
        respectPrefersColorScheme: true,
      },
    }),
};

module.exports = config;
```

**Key Changes for Books**:
- `routeBasePath: '/'` - Makes docs the homepage (book-first)
- `blog: false` - Disables blog features
- `hideable: true` - Allows hiding sidebar for distraction-free reading
- `autoCollapseCategories: true` - Keeps sidebar focused

### Edit `sidebars.js`

Replace with autogenerated sidebar configuration:

```javascript
// @ts-check

/** @type {import('@docusaurus/plugin-content-docs').SidebarsConfig} */
const sidebars = {
  bookSidebar: [
    {
      type: 'autogenerated',
      dirName: '.', // Generate from docs root
    },
  ],
};

module.exports = sidebars;
```

## Step 4: Create Book Structure

### Create Part Directories

```bash
# Navigate to docs directory
cd docs

# Create part directories
mkdir -p part-01-introduction
mkdir -p part-02-core-concepts
mkdir -p appendix
```

### Create Category Metadata Files

**`docs/part-01-introduction/_category_.json`**:
```json
{
  "label": "Part I: Introduction",
  "position": 1,
  "collapsible": true,
  "collapsed": false
}
```

**`docs/part-02-core-concepts/_category_.json`**:
```json
{
  "label": "Part II: Core Concepts",
  "position": 2,
  "collapsible": true,
  "collapsed": false
}
```

**`docs/appendix/_category_.json`**:
```json
{
  "label": "Appendix",
  "position": 3,
  "collapsible": true,
  "collapsed": true
}
```

## Step 5: Create Your First Chapters

### Update Introduction Page

Edit `docs/intro.md`:

```markdown
---
id: intro
title: Introduction
sidebar_label: Introduction
sidebar_position: 0
slug: /
---

# Welcome to [Your Book Title]

This book is a comprehensive guide to [your subject]. Whether you're a beginner or an experienced practitioner, you'll find valuable insights and practical examples throughout.

## What You'll Learn

In this book, you will:

- Learn fundamental concepts in Part I
- Master core techniques in Part II
- Apply your knowledge through practical examples
- Reference key information in the appendix

## How to Use This Book

This book is organized into logical parts and chapters. Use the sidebar navigation to explore topics, or use the search function to find specific information.

## Prerequisites

Before diving in, you should have:

- [List any prerequisite knowledge]
- [Tools or software needed]
- [Other requirements]

Let's begin your journey!
```

### Create First Chapter in Part I

Create `docs/part-01-introduction/01-getting-started.md`:

```markdown
---
title: "Getting Started"
sidebar_label: "Getting Started"
sidebar_position: 1
description: "Learn the basics and set up your environment"
tags: [introduction, setup, beginner]
---

# Getting Started

Welcome to the first chapter! This chapter will guide you through the initial steps.

## Overview

In this chapter, you'll learn:

- Key terminology and concepts
- How to set up your environment
- Your first practical example

## Key Concepts

### Concept 1: Understanding the Basics

Explanation of first concept with clear examples...

### Concept 2: Building on Fundamentals

Building on what you learned, let's explore...

## Practical Example

Here's a step-by-step example:

1. First step...
2. Second step...
3. Third step...

```code-example
// Example code with syntax highlighting
function example() {
  console.log("Hello, book reader!");
}
```

## Summary

In this chapter, you learned:

- ✓ Key concept 1
- ✓ Key concept 2
- ✓ Practical application

Next, we'll dive deeper into [next chapter topic].
```

### Create Second Chapter

Create `docs/part-01-introduction/02-foundational-concepts.md`:

```markdown
---
title: "Foundational Concepts"
sidebar_label: "Foundations"
sidebar_position: 2
description: "Core principles you need to know"
tags: [foundations, concepts]
---

# Foundational Concepts

Now that you're set up, let's explore the core principles.

## Key Principles

### Principle 1

Detailed explanation...

### Principle 2

More details...

## Visual Examples

You can include images:

![Concept Diagram](/img/part-01/concept-diagram.png)

> **Note**: Place images in `static/img/part-01/` directory.

## Interactive Elements

### Callout Boxes

:::note
This is a note callout.
:::

:::tip
This is a tip for readers.
:::

:::warning
This is a warning about common mistakes.
:::

:::danger
This is a critical warning.
:::

## Next Steps

Continue to Part II to learn...
```

## Step 6: Add Images and Assets

### Create Asset Directories

```bash
# From project root
mkdir -p static/img/part-01
mkdir -p static/img/part-02
mkdir -p static/downloads
```

### Add Sample Image

Place images in appropriate directories:

```text
static/
└── img/
    ├── part-01/
    │   ├── concept-diagram.png
    │   └── screenshot-01.png
    └── part-02/
        └── advanced-diagram.svg
```

### Reference in Markdown

```markdown
![Description of image](/img/part-01/concept-diagram.png)

Download: [Sample File](/downloads/example.pdf)
```

## Step 7: Run Development Server

### Start Local Server

```bash
# From project root
npm start

# Or with yarn
yarn start
```

**Expected Output**:
```
[INFO] Starting the development server...
[SUCCESS] Docusaurus website is running at: http://localhost:3000/
```

### View Your Book

Open your browser to `http://localhost:3000`

You should see:
- Introduction page as homepage
- Sidebar with "Part I: Introduction" category
- Chapters listed under Part I
- Search bar in navbar

### Test Navigation

- Click on chapters in sidebar
- Expand/collapse parts
- Try the search function
- Test on mobile (responsive design)

## Step 8: Customize Styling (Optional)

### Edit Custom CSS

Edit `src/css/custom.css`:

```css
:root {
  /* Color scheme */
  --ifm-color-primary: #2e8555;
  --ifm-color-primary-dark: #29784c;
  --ifm-color-primary-darker: #277148;
  --ifm-color-primary-darkest: #205d3b;
  --ifm-color-primary-light: #33925d;
  --ifm-color-primary-lighter: #359962;
  --ifm-color-primary-lightest: #3cad6e;

  /* Typography */
  --ifm-font-size-base: 16px;
  --ifm-line-height-base: 1.75;

  /* Reading width */
  --ifm-container-width: 1200px;
}

/* Optimize content width for reading */
.markdown {
  max-width: 720px;
  margin: 0 auto;
}

/* Improve heading spacing */
.markdown h2 {
  margin-top: 2rem;
  margin-bottom: 1rem;
}

.markdown h3 {
  margin-top: 1.5rem;
  margin-bottom: 0.75rem;
}
```

## Step 9: Build for Production (When Ready)

### Create Production Build

```bash
# Generate static files
npm run build

# Or with yarn
yarn build
```

**Output**: Generates `build/` directory with static HTML/CSS/JS

### Test Production Build

```bash
# Serve production build locally
npm run serve

# Or with yarn
yarn serve
```

## Step 10: Version Control Setup

### Initialize Git

```bash
# From project root
git init
git add .
git commit -m "Initial Docusaurus book setup"
```

### Create `.gitignore`

Ensure `.gitignore` includes:

```
# Dependencies
node_modules/

# Production build
/build

# Generated files
.docusaurus/
.cache-loader/

# Misc
.DS_Store
.env.local
.env.development.local
.env.test.local
.env.production.local

npm-debug.log*
yarn-debug.log*
yarn-error.log*
```

## Quick Reference Commands

| Task | Command |
|------|---------|
| Start dev server | `npm start` |
| Build for production | `npm run build` |
| Serve production build | `npm run serve` |
| Clear cache | `npm run clear` |
| Install dependencies | `npm install` |
| Add new dependency | `npm install <package>` |

## Troubleshooting

### Port 3000 Already in Use

```bash
# Use different port
npm start -- --port 3001
```

### Build Errors

```bash
# Clear cache and rebuild
npm run clear
npm run build
```

### Broken Links

- Check that all doc IDs in sidebars.js exist
- Verify internal links use correct format: `[text](./file.md)` or `[text](/absolute/path)`
- Run build to catch broken link errors

### Images Not Showing

- Verify images are in `static/` directory
- Use absolute paths from root: `/img/filename.png`
- Check file extensions match exactly (case-sensitive)

## Next Steps

Now that your book is set up:

1. **Add More Chapters**: Create additional `.md` files in part directories
2. **Organize Content**: Add more parts with `_category_.json` files
3. **Enhance Styling**: Customize `custom.css` for your brand
4. **Add Metadata**: Complete frontmatter for SEO and organization
5. **Test Thoroughly**: Review on different devices and browsers
6. **Plan Deployment**: Consider hosting options (GitHub Pages, Netlify, Vercel)

## Resources

- [Docusaurus Documentation](https://docusaurus.io/docs)
- [Markdown Guide](https://docusaurus.io/docs/markdown-features)
- [Sidebar Configuration](https://docusaurus.io/docs/sidebar)
- [Deployment Guide](https://docusaurus.io/docs/deployment)

## Success Criteria Checklist

- [ ] Docusaurus runs locally at localhost:3000
- [ ] Book introduction displays as homepage
- [ ] Sidebar shows organized parts and chapters
- [ ] Navigation works correctly
- [ ] Search function returns results
- [ ] Images display correctly
- [ ] Mobile responsive (test on phone)
- [ ] Production build completes without errors

**Estimated Time**: 20-30 minutes from start to working book interface

You're ready to start writing your book!
