# Research: Physical AI & Humanoid Robotics Module Structure

**Feature**: 002-book-module-structure
**Phase**: 0 (Research & Discovery)
**Date**: 2025-12-04

## Overview

This document captures research findings and decisions for organizing a Physical AI & Humanoid Robotics book into a 4-module curriculum using Docusaurus. Research focuses on: (1) Module organization best practices, (2) Educational curriculum design for technical books, (3) Docusaurus multi-module structure, (4) Content templates for consistency.

## Research Questions

1. **Module Organization**: How should Physical AI & Humanoid Robotics content be organized into modules?
2. **Learning Progression**: What is the optimal learning path from beginner to advanced topics?
3. **Docusaurus Module Structure**: How to implement module-based navigation in Docusaurus?
4. **Content Templates**: What templates ensure consistency across 32 chapters?
5. **Pedagogical Standards**: How to implement 6-step learning structure in markdown?

---

## Decision 1: Four-Module Curriculum Structure

### Research Conducted
- Analyzed robotics education curricula (MIT, CMU, Stanford robotics courses)
- Reviewed ROS 2 documentation structure (https://docs.ros.org/)
- Examined existing robotics books: "Modern Robotics" (Lynch & Park), "Probabilistic Robotics" (Thrun et al.)
- Evaluated embodied AI learning progressions

### Decision
**Adopt 4-module structure aligned with robotics systems hierarchy**:
1. **Module 1: The Robotic Nervous System (ROS 2)** - Foundation layer
2. **Module 2: Robot Perception and Sensors** - Sensing layer
3. **Module 3: Robot Motion and Control** - Actuation layer
4. **Module 4: Humanoid Robots and Integration** - Integration layer

### Rationale
- **Systems Hierarchy**: Mirrors actual robot architecture (communication → sensing → control → integration)
- **Dependency Flow**: Each module builds on previous (ROS 2 needed for sensors, sensors needed for control, control needed for behaviors)
- **Cognitive Load Management**: Separates concerns (one module = one major concept)
- **Real-World Alignment**: Matches how robotics engineers decompose problems

### Alternatives Considered
1. **Topic-Based** (Hardware → Software → AI → Applications)
   - Rejected: Doesn't reflect learning progression; jumps between abstraction levels
2. **Robot-Type-Based** (Manipulators → Mobile Robots → Humanoids)
   - Rejected: Doesn't teach foundational concepts (ROS, perception, control) systematically
3. **Three-Module** (Basics → Advanced → Applications)
   - Rejected: Too broad; each module would be overwhelming (12+ chapters)

---

## Decision 2: Eight Chapters Per Module

### Research Conducted
- Analyzed chunking principles in educational psychology (Miller's 7±2 rule)
- Reviewed Docusaurus documentation sites (React, Vue, Kubernetes docs)
- Examined book chapter counts for technical content (typical: 6-10 chapters per section)

### Decision
**Each module contains exactly 8 chapters** with progressive complexity.

### Rationale
- **Cognitive Chunking**: 8 items fit within working memory limits (7±2)
- **Progressive Disclosure**: Allows gradual complexity increase over multiple chapters
- **Balanced Depth**: 8 chapters provide sufficient coverage without overwhelming (vs. 12+ chapters)
- **Consistency**: Uniform structure helps readers predict learning journey

### Chapter Progression Pattern
Each module follows this arc:
1. **Introduction** (Chapter 1): Motivation, overview, key concepts
2-3. **Fundamentals** (Chapters 2-3): Core building blocks
4-6. **Intermediate** (Chapters 4-6): Combining concepts, practical techniques
7. **Advanced** (Chapter 7): Complex integration or specialized topics
8. **Project** (Chapter 8): End-to-end hands-on project synthesizing module concepts

### Alternatives Considered
1. **Variable Chapter Count** (5-12 chapters depending on module)
   - Rejected: Inconsistent structure confuses readers; harder to maintain
2. **Six Chapters Per Module** (24 total)
   - Rejected: Insufficient depth for complex topics (e.g., control theory needs 8 chapters)
3. **Ten Chapters Per Module** (40 total)
   - Rejected: Too many; increases book length and reader fatigue

---

## Decision 3: Docusaurus Module Implementation

### Research Conducted
- Reviewed Docusaurus documentation (https://docusaurus.io/docs/sidebar)
- Examined autogenerated sidebar behavior with `_category_.json`
- Tested folder-based organization with metadata files

### Decision
**Use autogenerated sidebars with folder-based modules**:
- Each module = directory with `_category_.json` metadata
- Chapters = numbered markdown files within module directory
- Module index pages = `index.md` in each module directory
- Sidebar automatically generated from file structure

### Rationale
- **Maintenance**: File-structure-based navigation reduces configuration overhead
- **Scalability**: Adding/reordering chapters only requires renaming files (no sidebar.js edits)
- **Docusaurus Native**: Leverages built-in autogeneration feature
- **Clear Hierarchy**: Folder structure visually represents book organization

### Implementation Details

**Module Metadata** (`_category_.json`):
```json
{
  "label": "Module 1: The Robotic Nervous System (ROS 2)",
  "position": 1,
  "collapsible": true,
  "collapsed": false,
  "link": {
    "type": "doc",
    "id": "module-01-robotic-nervous-system/index"
  },
  "description": "Learn robot system architecture and communication using ROS 2"
}
```

**Chapter Numbering**:
- Use two-digit prefixes: `01-`, `02-`, ..., `08-`
- Ensures correct alphabetical ordering
- Easy to reorder by renaming files

**Module Overview Pages**:
- `index.md` in each module directory
- Contains: learning objectives, prerequisites, chapter summaries, estimated time
- Linked from `_category_.json` for module landing page

### Alternatives Considered
1. **Manual Sidebar Configuration** (explicit `sidebars.js`)
   - Rejected: High maintenance burden; error-prone when adding/removing chapters
2. **Flat Structure with Tags** (all chapters in `docs/`, organized by tags)
   - Rejected: Poor visual organization; harder to navigate file system
3. **Nested Subdirectories** (module → part → chapter)
   - Rejected: Excessive nesting; URLs become too long

---

## Decision 4: Content Templates and Standards

### Research Conducted
- Reviewed constitution v1.1.0 pedagogical requirements (6-step structure)
- Analyzed technical documentation templates (MDN Web Docs, Python docs)
- Examined markdown frontmatter best practices

### Decision
**Standardize three template types**:
1. **Chapter Frontmatter Template**
2. **Chapter Content Template** (6-step structure)
3. **Module Index Template**

### Template 1: Chapter Frontmatter

```yaml
---
title: "[Full Chapter Title]"
sidebar_label: "[Short Label]"
sidebar_position: [1-8]
description: "[One-sentence chapter description]"
tags: [tag1, tag2, tag3]
keywords: [keyword1, keyword2, keyword3]
---
```

**Rationale**:
- `title`: Full title for page head and SEO
- `sidebar_label`: Short label for navigation (fits sidebar width)
- `sidebar_position`: Explicit ordering (1-8 within module)
- `description`: Meta description for SEO and chapter previews
- `tags`: Categorization for search/filtering
- `keywords`: SEO keywords for discoverability

### Template 2: Chapter Content (6-Step Structure)

Every chapter MUST follow this structure per constitution Principle VII:

```markdown
# [Chapter Title]

## 1. Why This Matters (Intuitive Motivation)
[Real-world context, problem this solves, why readers should care]

## 2. The Big Picture (Plain-Language Explanation)
[Concept explained without jargon, analogies, everyday examples]

## 3. Technical Deep Dive (Formal Definition)
[Proper terminology, mathematical notation if needed, precise definitions]

## 4. Seeing It in Action (Visual Diagram)
[Labeled diagram with legend, annotations, clear visual representation]

## 5. Hands-On Code (Code Example)
[Python code with inline comments, runnable in specified environment]

## 6. Try It Yourself (Practical Exercise)
[Guided exercise, simulation task, challenges for readers to complete]

## Summary
[Key takeaways, what readers learned, preview of next chapter]

## Further Reading
[Optional: Links to research papers, documentation, advanced topics]
```

**Rationale**:
- Enforces constitution Principle VII (Practical Application)
- Ensures beginner accessibility (Principle VI)
- Progressive disclosure: motivation → explanation → formal → visual → code → exercise
- Consistent structure helps readers know what to expect

### Template 3: Module Index Page

```markdown
---
title: "Module [N]: [Module Title]"
sidebar_label: "Overview"
sidebar_position: 0
description: "[Module description]"
---

# Module [N]: [Module Title]

## What You'll Learn
[Learning objectives, key concepts covered]

## Prerequisites
[What readers should know before starting this module]

## Chapter Overview
1. **[Chapter 1 Title]**: [One-sentence description]
2. **[Chapter 2 Title]**: [One-sentence description]
...

## Estimated Time
[Total estimated reading/practice time for module]

## Tools and Technologies
[Software, libraries, platforms used in this module]

## Let's Begin
Ready to start? Head to [Chapter 1](...).
```

**Rationale**:
- Provides module-level context before diving into chapters
- Sets expectations (prerequisites, time commitment)
- Roadmap helps readers plan learning journey

### Alternatives Considered
1. **Free-Form Structure** (no templates)
   - Rejected: Violates constitution Principle IV (Consistency); hard to maintain
2. **Strict Word Counts per Section** (e.g., 500 words for motivation)
   - Rejected: Too rigid; some concepts need more/less explanation
3. **Code-First Approach** (code example before explanation)
   - Rejected: Violates pedagogical best practices; beginners need context first

---

## Decision 5: Module-Specific Considerations

### Module 1: ROS 2 Architecture

**Key Decisions**:
- **ROS 2 Version**: Target ROS 2 Humble (LTS, supported until 2027)
- **Python vs C++**: Use Python exclusively for beginner accessibility
- **Simulation**: PyBullet for lightweight examples, Gazebo for ROS integration

**Chapter Focus**:
1. Middleware concepts (vs distributed systems)
2. Publisher-subscriber pattern
3. Service request-response
4. Action long-running tasks
5. Sensor data reading (ROS messages)
6. Actuator commanding (joint control)
7. Launch files (system orchestration)
8. End-to-end robot system project

**Diagrams Needed**:
- Node graph visualizations
- Topic communication flow
- Message type hierarchies
- System architecture diagrams

---

### Module 2: Robot Perception

**Key Decisions**:
- **Sensor Types**: RGB cameras, depth cameras, LiDAR, IMU, proprioceptive sensors
- **Libraries**: OpenCV (vision), PCL (point clouds), NumPy (data processing)
- **AI Integration**: YOLO for object detection, SegFormer for segmentation

**Chapter Focus**:
1. Sensor taxonomy and purposes
2. Camera geometry and image processing
3. Depth perception (LiDAR, depth cameras)
4. Inertial measurement (orientation, acceleration)
5. Proprioception (joint encoders, force sensors)
6. Sensor fusion (Kalman filters, complementary filters)
7. Computer vision for robotics (object detection, tracking)
8. Perception pipeline project (multi-sensor integration)

**Diagrams Needed**:
- Sensor placement on robot
- Camera coordinate frames
- Point cloud visualizations
- Sensor fusion architectures

---

### Module 3: Robot Motion and Control

**Key Decisions**:
- **Math Level**: Introduce linear algebra concepts gently (vectors, matrices, transformations)
- **Simulation**: PyBullet physics for testing control algorithms
- **Libraries**: ikpy (inverse kinematics), roboticstoolbox-python, MoveIt 2

**Chapter Focus**:
1. Forward kinematics (joint angles → end-effector position)
2. Inverse kinematics (desired position → joint angles)
3. Dynamics (forces, torques, physics)
4. Control theory (PID, feedforward, state-space)
5. Trajectory planning (path generation, smoothing)
6. Manipulation control (reaching, grasping)
7. Locomotion fundamentals (walking, balance)
8. Whole-body control project (coordinating multiple limbs)

**Diagrams Needed**:
- Kinematic chains (Denavit-Hartenberg notation)
- Control loop block diagrams
- Trajectory visualization (position, velocity, acceleration)
- Free-body diagrams for dynamics

---

### Module 4: Humanoid Integration

**Key Decisions**:
- **Real Platforms**: Reference Boston Dynamics Atlas, Tesla Optimus, Honda ASIMO
- **Simulation**: NVIDIA Isaac Sim for advanced humanoid simulation (optional); PyBullet fallback
- **Integration Focus**: Combine ROS 2 + perception + control into complete behaviors

**Chapter Focus**:
1. Humanoid anatomy (joints, links, sensors, actuators)
2. Balance and stability (ZMP, center of mass, support polygon)
3. Bipedal locomotion (gait generation, walking algorithms)
4. Manipulation and dexterity (hand control, object interaction)
5. Human-robot interaction (communication, safety, collaboration)
6. Behavior arbitration (FSMs, behavior trees, goal coordination)
7. Sim-to-real transfer (domain randomization, system identification)
8. Capstone project (complete humanoid control system)

**Diagrams Needed**:
- Full-body kinematic chains
- Balance/stability diagrams (ZMP, CoM)
- Gait cycle visualizations
- Behavior state machines

---

## Decision 6: Asset Organization

### Research Conducted
- Reviewed Docusaurus static asset handling (https://docusaurus.io/docs/static-assets)
- Examined image organization in technical books

### Decision
**Organize assets by module** in `static/` directory:

```
static/
├── img/
│   ├── module-01/        # ROS 2 diagrams
│   │   ├── node-graph.png
│   │   ├── topic-comm.svg
│   │   └── ...
│   ├── module-02/        # Perception diagrams
│   │   ├── sensor-placement.png
│   │   ├── camera-frames.svg
│   │   └── ...
│   ├── module-03/        # Control diagrams
│   │   ├── kinematic-chain.svg
│   │   ├── control-loop.png
│   │   └── ...
│   └── module-04/        # Humanoid diagrams
│       ├── humanoid-anatomy.png
│       ├── balance-zmp.svg
│       └── ...
└── downloads/
    ├── code-examples/    # Downloadable code
    │   ├── module-01/
    │   ├── module-02/
    │   └── ...
    └── robot-models/     # URDF files, robot descriptions
```

**Rationale**:
- **Modularity**: Images grouped with related content
- **Maintainability**: Easy to locate and update module-specific assets
- **Performance**: Allows future optimization (e.g., lazy loading per module)
- **Clarity**: File paths indicate which module they belong to

### Image Standards
- **Format**: SVG for diagrams (scalable), PNG for screenshots/photos
- **Resolution**: 2x for PNG (retina displays)
- **Alt Text**: Every image must have descriptive alt text (accessibility)
- **Captions**: Use markdown image syntax with captions where needed
- **Labels**: All diagrams must include legends and axis labels

### Alternatives Considered
1. **Flat `static/img/` Directory**
   - Rejected: Hard to manage 100+ images; naming collisions likely
2. **Chapter-Level Directories** (`static/img/chapter-01/`)
   - Rejected: Too granular; many images apply to multiple chapters

---

## Decision 7: Appendix Content

### Research Conducted
- Reviewed technical book appendices (glossaries, references, setup guides)
- Analyzed ROS 2 documentation appendices

### Decision
**Three-part appendix structure**:

1. **Glossary** (`appendix/glossary.md`):
   - Alphabetically organized
   - All technical terms used in book
   - Plain-language definitions with references to chapters
   - Cross-references between related terms

2. **References** (`appendix/references.md`):
   - Research papers (robotics, AI, control theory)
   - Official documentation (ROS 2, Gazebo, Isaac Sim, PyBullet)
   - Real robot platforms (Atlas, Optimus, ASIMO specs)
   - Textbooks and further reading
   - Online communities and forums

3. **Setup Guide** (`appendix/setup-guide.md`):
   - ROS 2 installation (Ubuntu, Windows WSL, macOS)
   - Python environment setup (venv, conda)
   - Simulation platform installation (PyBullet, Gazebo, Isaac Sim)
   - Troubleshooting common issues
   - Recommended hardware specs

**Rationale**:
- **Glossary**: Essential for beginners learning new terminology (constitution Principle VI)
- **References**: Supports research-backed claims (constitution Principle V)
- **Setup Guide**: Removes barrier to entry; ensures code examples are runnable

### Alternatives Considered
1. **Glossary as Sidebar Widget**
   - Rejected: Docusaurus doesn't support dynamic sidebar glossaries well
2. **Per-Chapter Setup Instructions**
   - Rejected: Redundant; better to have centralized setup guide
3. **External References Only** (no embedded bibliography)
   - Rejected: Violates constitution Principle V (research-backed)

---

## Decision 8: Migration Strategy

### Research Conducted
- Reviewed existing book structure (part-01-introduction, part-02-core-concepts)
- Analyzed migration best practices for content restructuring

### Decision
**Incremental migration in 9 steps**:

1. **Create Module Directories**: Add 4 module directories alongside existing parts
2. **Module Metadata**: Create `_category_.json` and `index.md` for each module
3. **Pilot Content**: Write Module 1 Chapter 1 with full 6-step content (validation)
4. **Placeholder Chapters**: Create remaining 31 chapters with frontmatter only
5. **Update Appendix**: Rewrite glossary and references for Physical AI domain
6. **Create Setup Guide**: Write appendix/setup-guide.md
7. **Remove Old Parts**: Delete part-01-introduction and part-02-core-concepts directories
8. **Update Configuration**: Change docusaurus.config.js title to "Physical AI & Humanoid Robotics"
9. **Update Homepage**: Rewrite docs/intro.md with Physical AI introduction

**Rationale**:
- **Risk Mitigation**: Keep old structure until new structure validated
- **Validation**: Pilot chapter tests 6-step structure before scaling to 32 chapters
- **Incremental**: Each step independently testable (dev server build)
- **Reversible**: Git history allows rollback if issues arise

### Alternatives Considered
1. **Big-Bang Migration** (replace everything at once)
   - Rejected: High risk; if something breaks, hard to isolate cause
2. **Parallel Structures** (keep both old and new)
   - Rejected: Confusing for readers; bloats navigation

---

## Technical Unknowns Resolved

### 1. Docusaurus Support for Large Books
**Question**: Can Docusaurus handle 32 chapters without performance issues?
**Answer**: Yes. Docusaurus is used for React docs (500+ pages). Build time scales linearly. Hot reload only rebuilds changed pages.

### 2. Code Example Execution
**Question**: How to ensure code examples are runnable?
**Answer**:
- Include exact dependency versions in setup guide
- Test all code in specified environment (Python 3.8+, ROS 2 Humble)
- Provide downloadable code in `static/downloads/code-examples/`
- Add quality gate: Code execution verification before publication

### 3. Mathematical Notation
**Question**: How to render math equations in Docusaurus?
**Answer**: Docusaurus supports KaTeX for LaTeX math rendering. Enable in `docusaurus.config.js`:
```javascript
markdown: {
  mermaid: true,
},
themes: ['@docusaurus/theme-live-codeblock'],
```
Use inline math: `$E = mc^2$` or block math:
```latex
$$
\theta = \arctan2(y, x)
$$
```

### 4. Diagram Authoring
**Question**: What tools for creating diagrams?
**Answer**:
- **Node Graphs**: Mermaid (Docusaurus native support) or Graphviz
- **Robot Diagrams**: Inkscape (SVG), Blender (3D renders)
- **Control Loops**: draw.io or Mermaid flowcharts
- **Math Diagrams**: TikZ (export to SVG) or Matplotlib (Python)

---

## Summary of Key Decisions

| Decision | Choice | Rationale |
|----------|--------|-----------|
| **Module Structure** | 4 modules (8 chapters each) | Mirrors robot systems hierarchy, manageable cognitive load |
| **Module Organization** | ROS 2 → Perception → Control → Integration | Dependency flow, progressive complexity |
| **Docusaurus Implementation** | Autogenerated sidebars, folder-based | Low maintenance, scalable, Docusaurus-native |
| **Content Templates** | 3 templates (frontmatter, 6-step content, module index) | Consistency, constitution compliance |
| **Asset Organization** | Module-specific directories in `static/` | Modularity, maintainability |
| **Appendix** | Glossary, References, Setup Guide | Beginner support, research-backed, runnable code |
| **Migration** | Incremental 9-step process | Risk mitigation, validation, reversibility |

---

## Next Steps (Phase 1)

1. **Generate data-model.md**: Define Module, Chapter, Asset entities
2. **Generate contracts/**: Create JSON schemas and markdown templates
3. **Generate quickstart.md**: Getting started guide for contributors
4. **Update agent context**: Add Physical AI & Humanoid Robotics to Claude context

---

**Research Complete**: All unknowns resolved. Ready to proceed to Phase 1 (Design & Contracts).
