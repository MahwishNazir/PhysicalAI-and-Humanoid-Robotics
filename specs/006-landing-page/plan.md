# Implementation Plan: Landing Page for Physical AI & Humanoid Robotics Book

**Branch**: `006-landing-page` | **Date**: 2025-12-06 | **Spec**: [spec.md](./spec.md)
**Input**: Feature specification from `/specs/006-landing-page/spec.md`

## Summary

Create a custom landing page at the root URL (`/`) for the Physical AI & Humanoid Robotics book, while moving Docusaurus book content to `/intro`. The landing page features a hero section with book title, tagline, hero image, and call-to-action buttons ("Start Reading", with auth placeholders for Sign In/Sign Up). Includes footer with GitHub repository link and email contact. Designed for responsive mobile-to-desktop viewing with professional robotics/AI theming, light/dark mode support, and WCAG AA accessibility compliance.

**Technical Approach** (from research):
- Use Docusaurus custom pages (`src/pages/index.tsx`) for landing page
- Configure Docusaurus `routeBasePath: '/intro'` to shift docs from `/` to `/intro`
- Build modular React components (Hero, Footer) styled with Infima CSS variables and CSS Modules
- Leverage Docusaurus built-in SSR, code splitting, and prefetching for performance
- Target: Lighthouse score >90 desktop, >75 mobile; WCAG AA accessibility compliance

---

## Technical Context

**Language/Version**: TypeScript 5.x, React 18 (via Docusaurus 2.x/3.x)
**Primary Dependencies**: Docusaurus 2.x or 3.x (already installed), @docusaurus/router, Infima CSS framework (built-in)
**Storage**: N/A (static site, no backend/database)
**Testing**: Manual testing (user flow, responsive breakpoints, accessibility), Lighthouse audits (performance, accessibility)
**Target Platform**: Web (modern browsers: Chrome, Firefox, Safari, Edge - last 2 versions)
**Project Type**: Web application (Docusaurus static site)
**Performance Goals**: <3s page load desktop, <5s mobile 3G; Lighthouse score >90 desktop, >75 mobile
**Constraints**: WCAG AA accessibility (4.5:1 contrast, semantic HTML, keyboard navigation); responsive 320px-1920px; <500KB total page size
**Scale/Scope**: Single landing page + footer component; 3 route changes (config); 4 user stories; ~10 React components/files

---

## Constitution Check

*GATE: Must pass before Phase 0 research. Re-check after Phase 1 design.*

### Alignment with Constitution Principles

**I. Content-First**: ✅ PASS
- Landing page serves reader understanding by providing clear entry point to book
- Hero section immediately communicates book topic (Physical AI & Humanoid Robotics)
- "Start Reading" CTA is purposeful and direct (no filler content)

**II. Incremental Development**: ✅ PASS
- MVP defined (User Story 1: First-Time Visitor Discovery)
- Footer (P2) and Auth Awareness (P3) can be added incrementally after MVP
- Each user story independently testable and deployable

**III. Version Control**: ✅ PASS
- All changes tracked via git on `006-landing-page` branch
- Clear file structure: `src/pages/`, `static/img/`
- Commit messages will document configuration changes (docusaurus.config.js routing)

**IV. Consistency**: ✅ PASS
- Uses Infima CSS framework (same as Docusaurus docs) for brand consistency
- Terminology consistent with book (Physical AI, humanoid robotics)
- Visual theme (colors, fonts) shared between landing page and docs via CSS variables

**V. Research-Backed**: ✅ PASS
- Docusaurus best practices followed (file-based routing, custom pages)
- WCAG AA accessibility standards (4.5:1 contrast, semantic HTML)
- Performance budget based on Core Web Vitals (LCP <2.5s, FCP <1.5s)

**VI. Simplicity and Clarity for Beginners**: ✅ PASS
- Landing page uses plain language (no technical jargon)
- "Start Reading" CTA is clear and action-oriented
- No unnecessary complexity (no custom routing logic, no external dependencies)
- Responsive design ensures usability on all devices (beginners may use mobile)

**VII. Practical Application**: ⚠️ PARTIAL (N/A for landing page)
- Landing page is UI-only (no code examples or simulation exercises)
- **Justification**: Landing page's purpose is navigation, not education
- Book content (accessible via `/intro`) fulfills Principle VII

---

## Project Structure

### Documentation (this feature)

```text
specs/006-landing-page/
├── spec.md                  # Feature specification (User Stories, FRs, Success Criteria)
├── plan.md                  # This file (implementation plan)
├── research.md              # Phase 0: Docusaurus routing, theming, performance research
├── data-model.md            # Phase 1: Static content interfaces (no backend)
├── quickstart.md            # Phase 1: Step-by-step implementation guide
├── checklists/
│   └── requirements.md      # Specification quality checklist (13/13 PASS)
└── tasks.md                 # Phase 2: Actionable task breakdown (generated by /sp.tasks)
```

---

### Source Code (repository root)

```text
# Docusaurus Static Site with Custom Landing Page

# Configuration
docusaurus.config.js         # Update: routeBasePath: '/intro', navbar links
src/css/custom.css           # Infima variable overrides (color scheme, focus indicators)

# Landing Page Entry Point
src/pages/
├── index.tsx                # Main landing page component (imports Layout, Hero, Footer)
├── index.module.css         # Landing page layout styles (flexbox centering)

# Custom Components
src/pages/components/
├── Hero/
│   ├── Hero.tsx             # Hero section (title, tagline, CTA buttons, hero image)
│   └── Hero.module.css      # Hero responsive styles (mobile-first, CSS Grid)
├── Footer/
│   ├── Footer.tsx           # Footer (GitHub link, email, copyright)
│   └── Footer.module.css    # Footer styles (responsive row/column layout)
└── Button/
    ├── Button.tsx           # Reusable button component (primary/secondary variants) - OPTIONAL
    └── Button.module.css    # Button styles - OPTIONAL

# Static Assets
static/
└── img/
    └── hero-robot.webp      # Hero image (robotics/AI visual, <100KB, 800px width)

# Existing Docusaurus Content (unchanged location)
docs/
├── intro.md                 # Book introduction (now accessible at /intro)
├── module-01-robotic-nervous-system/
│   └── ...                  # Existing chapters (now at /intro/module-01-...)
└── ...                      # Other modules
```

**Structure Decision**: **Custom Pages** (Docusaurus convention)

Docusaurus supports custom pages via `src/pages/` directory, which automatically routes files to URLs (e.g., `index.tsx` → `/`). This approach:
- Requires no custom routing logic (file-based routing is automatic)
- Keeps landing page separate from docs (no sidebar/breadcrumbs on landing page)
- Allows modular React component structure for Hero and Footer
- Leverages Docusaurus theming (Infima CSS, light/dark mode) without additional configuration

**Alternative Rejected**: Using a separate static HTML file for landing page
- **Why rejected**: Would require separate build process, lose Docusaurus theming, break navigation consistency

---

## Complexity Tracking

> **This section filled because the feature adds routing complexity (justified by user experience requirements)**

| Violation | Why Needed | Simpler Alternative Rejected Because |
|-----------|------------|-------------------------------------|
| Changing default docs routing (routeBasePath from `/` to `/intro`) | Landing page must be at root URL (`/`) for conventional user experience; visitors expect landing page at `/`, not book content | Keeping docs at `/` and landing page at `/home` violates web convention (users expect root URL to be homepage). Redirects from `/` → `/intro` then serving landing page at `/home` is confusing. |
| Adding custom React components (Hero, Footer) outside Docusaurus theme | Landing page has unique layout requirements (hero image, CTA buttons, no sidebar) that differ from docs theme | Using Docusaurus `@theme/Layout` with customizations would still require overriding components. Custom page is cleaner separation. Docusaurus explicitly supports `src/pages/` for this use case. |

**Constitution Principle Alignment**: These complexities are justified by **Principle VI (Simplicity and Clarity for Beginners)** - a landing page at `/` with clear "Start Reading" CTA reduces cognitive load for first-time visitors.

---

## Architecture Decisions

### Decision 1: Custom Pages at `src/pages/` vs Separate Static Site

**Context**: Need to create a landing page at `/` while keeping Docusaurus book content accessible.

**Options Considered**:

1. **Custom Docusaurus Page** (`src/pages/index.tsx`):
   - **Pros**: Shares theme, build process, navigation; file-based routing automatic
   - **Cons**: Must change docs routing to `/intro` (breaking change if docs were at `/` before)

2. **Separate Static HTML Site**:
   - **Pros**: Complete control over landing page; no Docusaurus config changes
   - **Cons**: Separate build process; duplicate navbar; breaks SEO (two separate sites); no theme sharing

3. **React App (Vite/Next.js) + Docusaurus as subdirectory**:
   - **Pros**: Full flexibility for landing page
   - **Cons**: Major complexity; two build pipelines; hosting complexity; doubles bundle size

**Decision**: **Option 1** (Custom Docusaurus Page)

**Rationale**:
- Shares Docusaurus theme variables (Infima CSS) for brand consistency
- No duplicate build process
- Automatic prefetching of `/intro` on "Start Reading" hover (Docusaurus feature)
- SEO-friendly (single site, internal links)

**Trade-offs**:
- ✅ Simplicity over control (Docusaurus conventions vs custom React setup)
- ⚠️ Breaking change: docs move from `/` to `/intro` (acceptable - book hasn't launched yet)

---

### Decision 2: Infima CSS Framework vs Tailwind CSS

**Context**: Need styling system for landing page that supports light/dark mode and matches Docusaurus theme.

**Options Considered**:

1. **Infima CSS** (Docusaurus built-in):
   - **Pros**: Already installed; automatic light/dark mode via CSS variables; no build config; matches docs theme
   - **Cons**: Fewer utility classes than Tailwind; less flexibility

2. **Tailwind CSS**:
   - **Pros**: Extensive utility classes; responsive design utilities; community resources
   - **Cons**: Requires Docusaurus plugin; increases build complexity; manual dark mode integration; may conflict with Infima

3. **Plain CSS** (no framework):
   - **Pros**: Full control; no dependencies
   - **Cons**: Manual light/dark mode; no consistent spacing/colors with docs; reinventing the wheel

**Decision**: **Option 1** (Infima CSS + CSS Modules)

**Rationale**:
- Zero configuration (already available in Docusaurus)
- Automatic theme switching via `[data-theme='dark']` selector
- CSS variables (`--ifm-color-primary`) ensure landing page matches docs
- CSS Modules prevent style conflicts between landing page and docs

**Trade-offs**:
- ✅ Simplicity and consistency over flexibility (Principle IV: Consistency)
- ⚠️ Less utility classes (acceptable - landing page is simple, not complex dashboard)

---

### Decision 3: Modular Components vs Single File

**Context**: Hero and Footer sections could be in one file or split into separate components.

**Options Considered**:

1. **Modular Components** (separate Hero.tsx, Footer.tsx):
   - **Pros**: Reusable; easier to test; follows React best practices; clear separation of concerns
   - **Cons**: More files to navigate (3+ files)

2. **Single File** (all code in index.tsx):
   - **Pros**: Everything in one place; faster initial development
   - **Cons**: Harder to maintain; violates single responsibility principle; can't reuse components

**Decision**: **Option 1** (Modular Components)

**Rationale**:
- Hero and Footer are logically separate (hero is call-to-action, footer is navigation/contact)
- Components can be tested independently
- Easier to refine styling (separate CSS modules)
- Prepares for future features (e.g., reusing Footer in custom error pages)

**Trade-offs**:
- ✅ Maintainability over speed (Principle II: Incremental Development)
- ⚠️ More files (3 components vs 1 file) - acceptable for clarity

---

### Decision 4: Auth Placeholder Implementation

**Context**: "Sign In" and "Sign Up" buttons are required (Spec FR-012) but auth is not implemented in MVP.

**Options Considered**:

1. **Alert Dialog** (JavaScript `alert()`):
   - **Pros**: Zero code; instant implementation
   - **Cons**: Unprofessional; blocks page; not accessible

2. **Toast Notification** (external library like react-toastify):
   - **Pros**: Professional appearance; auto-dismiss
   - **Cons**: Adds dependency; unnecessary for placeholder

3. **Inline Message with useState**:
   - **Pros**: Simple; accessible; no dependencies; auto-hide with setTimeout
   - **Cons**: Requires React state management (minimal)

**Decision**: **Option 3** (Inline Message with useState)

**Rationale**:
- Accessible (screen readers can announce message)
- Professional (styled with Infima warning color)
- No external dependencies
- Clear user feedback (message appears below buttons, auto-hides after 3 seconds)

**Implementation**:
```typescript
const [showAuthMessage, setShowAuthMessage] = useState(false);

const handleAuthClick = () => {
  setShowAuthMessage(true);
  setTimeout(() => setShowAuthMessage(false), 3000);
};
```

**Trade-offs**:
- ✅ Accessibility over simplicity (Principle VI: Clarity for Beginners)
- ⚠️ Requires React state (acceptable - simple useState hook)

---

## Implementation Phases

### Phase 0: Research ✅ COMPLETE

**Output**: `research.md` (6 research areas)

**Key Findings**:
1. Custom pages via `src/pages/index.tsx` with `routeBasePath: '/intro'` in config
2. File-based routing automatic (no custom logic needed)
3. Infima CSS framework + CSS Modules for theming (automatic light/dark mode)
4. Modular components (Hero, Footer) with responsive CSS Grid + Flexbox
5. Docusaurus built-in SSR, code splitting, prefetching (no extra optimization needed)
6. Configuration changes: `docusaurus.config.js` (routing, navbar)

---

### Phase 1: Design & Contracts ✅ COMPLETE

**Output**: `data-model.md`, `quickstart.md`

**1. Data Model** (`data-model.md`):
- Static content interfaces (LandingPageContent, HeroProps, FooterProps, ButtonProps)
- No backend/database (UI-only feature)
- Theme state managed by Docusaurus (automatic)

**2. Contracts**: N/A (no API endpoints)

**3. Quickstart Guide** (`quickstart.md`):
- 7 implementation phases with step-by-step instructions
- Code examples for all components (Hero.tsx, Footer.tsx, CSS modules)
- Estimated time: 4.5 hours for MVP, 6-7 hours for all user stories
- Troubleshooting section (404 errors, dark mode, image loading)
- Success criteria verification checklist

---

### Phase 2: Task Generation (NEXT STEP)

**Command**: `/sp.tasks`

**Expected Output**: `tasks.md` with actionable checklist items organized by:
- Setup tasks (configuration, directory creation)
- Hero component tasks (component, styles, image)
- Footer component tasks
- Polish tasks (accessibility, performance, testing)
- Validation tasks (Lighthouse audits, user flow testing)

**Parallelization Opportunities**:
- Hero and Footer components can be developed in parallel (independent)
- Image optimization can happen in parallel with component development

---

## Phase 3: Implementation (After /sp.tasks)

**Command**: `/sp.implement`

**Expected Flow**:
1. Configuration setup (docusaurus.config.js routing change)
2. Directory structure creation (src/pages/, src/pages/components/)
3. Landing page entry point (index.tsx, index.module.css)
4. Hero component (Hero.tsx, Hero.module.css)
5. Footer component (Footer.tsx, Footer.module.css)
6. Static assets (hero-robot.webp image)
7. Accessibility polish (focus indicators, keyboard navigation)
8. Performance optimization (image compression, Lighthouse audit)
9. User story verification (test all 4 acceptance scenarios per user story)

---

## Risks & Mitigations

### Risk 1: Breaking Change for Existing Users

**Risk**: Changing `routeBasePath` from `/` to `/intro` breaks existing bookmarks/links to `/`

**Likelihood**: Low (book hasn't publicly launched yet)

**Impact**: Medium (user confusion if links break)

**Mitigation**:
- Check git history: has `/` ever been publicly shared?
- If yes: Add redirect from old URLs to new URLs (Docusaurus supports redirects plugin)
- If no: Proceed with route change (no users affected)

---

### Risk 2: Hero Image File Size

**Risk**: Hero image >100KB slows page load, fails Lighthouse performance target

**Likelihood**: Medium (high-quality robot images are often large)

**Impact**: High (blocks SC-003: Lighthouse score >90)

**Mitigation**:
- Use image optimization tools (Squoosh.app, TinyPNG) before adding to `static/img/`
- Convert to WebP format (better compression than PNG/JPG)
- Set max width to 800px (no need for 4K images)
- Add `loading="lazy"` attribute (already in quickstart example)

**Fallback**: Use SVG placeholder or simpler illustration if optimization fails

---

### Risk 3: Accessibility Violations

**Risk**: Color contrast, keyboard navigation, or semantic HTML fails WCAG AA audit

**Likelihood**: Low (using Infima CSS which is WCAG compliant)

**Impact**: High (blocks SC-005: Zero WCAG violations)

**Mitigation**:
- Use Infima CSS variables (pre-tested for contrast)
- Run Lighthouse accessibility audit early (during Phase 5 of quickstart)
- Test keyboard navigation manually (Tab key traversal)
- Use semantic HTML (`<section>`, `<footer>`, proper heading hierarchy)

**Tooling**: Chrome DevTools Lighthouse, aXe DevTools extension

---

### Risk 4: Mobile Responsive Breakpoints

**Risk**: Layout breaks on specific viewport widths (e.g., 375px iPhone, 768px iPad)

**Likelihood**: Medium (responsive design is complex)

**Impact**: High (blocks SC-006: Usable 320px-1920px without horizontal scroll)

**Mitigation**:
- Use mobile-first CSS (default: single column, progressively enhance to multi-column)
- Test on real devices or Chrome DevTools device emulation
- Use CSS Grid and Flexbox (automatically responsive)
- Set `max-width` on hero image and content containers

**Test Viewports**: 320px, 375px, 768px, 996px, 1920px (documented in quickstart)

---

## Performance Budget

| Asset Type | Budget | Current Estimate | Notes |
|------------|--------|------------------|-------|
| HTML | <10KB | ~5KB | Landing page only (minimal DOM) |
| CSS | <30KB | ~25KB | Infima + custom styles |
| JavaScript | <150KB | ~100KB | React + ReactDOM + Docusaurus runtime |
| Images | <100KB | Varies (TBD) | Hero image (must be optimized) |
| **Total** | <500KB | ~230KB (without image) | Well under budget |

**Lighthouse Performance Targets**:
- **Desktop**: >90 score
- **Mobile**: >75 score (3G network simulation)

**Core Web Vitals**:
- **LCP** (Largest Contentful Paint): <2.5s (hero image)
- **FCP** (First Contentful Paint): <1.5s (HTML + CSS)
- **TTI** (Time to Interactive): <3.5s (JavaScript hydration)

---

## Testing Strategy

### Manual Testing (User Flow)

**Test**: User Story 1 Acceptance Scenarios

1. Navigate to `/` → Verify title, tagline, "Start Reading" button visible
2. Click "Start Reading" → Verify navigation to `/intro` with sidebar
3. Resize to 375px width → Verify content readable, button tappable
4. Measure page load → Verify <3s (production build)

**Test**: User Story 2 (Footer Links)

1. Scroll to footer → Verify GitHub link and email address visible
2. Click GitHub link → Verify opens in new tab
3. Click email address → Verify opens email client

**Test**: User Story 3 (Auth Placeholders)

1. Click "Sign In" button → Verify placeholder message appears
2. Wait 3 seconds → Verify message auto-hides
3. Verify "Start Reading" button is more prominent (larger/brighter)

**Test**: User Story 4 (Visual Design)

1. Verify hero image displays (robot/AI theme)
2. Toggle light/dark mode → Verify colors adjust appropriately
3. Resize 320px to 1920px → Verify no horizontal scrolling

---

### Automated Testing (Lighthouse)

**Performance Audit**:
```bash
npm run build
npm run serve
# Open http://localhost:3000 in Chrome
# Run Lighthouse (Performance category)
# Target: >90 desktop, >75 mobile
```

**Accessibility Audit**:
```bash
# Same as above, but select Accessibility category
# Target: 100 score (zero violations)
```

**Metrics to Monitor**:
- Performance score
- Accessibility score
- Best Practices score
- SEO score

---

### Responsive Testing

**Viewports to Test**:
- 320px (iPhone SE): Smallest modern mobile
- 375px (iPhone 12): Common mobile size
- 768px (iPad): Tablet portrait
- 996px (Desktop): Docusaurus breakpoint
- 1920px (Large Desktop): Common desktop size

**Tool**: Chrome DevTools → Toggle device toolbar (Ctrl+Shift+M)

---

## Success Criteria from Spec

**Verification Checklist** (from spec.md Success Criteria):

- [ ] **SC-001**: 90% of visitors identify book content within 5 seconds (user survey)
- [ ] **SC-002**: "Start Reading" CTR ≥ 40% (analytics - future feature)
- [x] **SC-003**: Desktop load <3s (Lighthouse >90) - Testable with Lighthouse
- [x] **SC-004**: Mobile 3G load <5s (Lighthouse >75) - Testable with Lighthouse
- [x] **SC-005**: Zero WCAG AA violations - Testable with Lighthouse accessibility audit
- [x] **SC-006**: Usable 320px-1920px without horizontal scroll - Testable with responsive design testing
- [x] **SC-007**: 100% navigation success to `/intro` - Testable with manual user flow
- [x] **SC-008**: Footer links 100% click success - Testable manually
- [x] **SC-009**: Semantic HTML with proper heading hierarchy - Testable with HTML validator
- [ ] **SC-010**: Visual professionalism rated 4/5+ (user survey - future)

**MVP Testable Criteria**: 7 out of 10 (SC-003 through SC-009)

---

## Next Steps

1. **Run `/sp.tasks`**: Generate actionable task breakdown from this plan
2. **Review tasks.md**: Ensure all quickstart steps are captured as tasks
3. **Run `/sp.implement`**: Execute tasks sequentially (setup → hero → footer → polish)
4. **Test incrementally**: Verify each user story independently
5. **Run Lighthouse audits**: Validate performance and accessibility targets
6. **Get user feedback**: Show landing page to 3-5 beginners, verify SC-001 (identify content in 5 seconds)
7. **Commit and create PR**: Use `/sp.git.commit_pr` when all success criteria pass

---

## Appendix: File Checklist

**Files to Create** (15 total):

**Configuration** (1):
- [ ] `docusaurus.config.js` (update: routeBasePath, navbar)

**Landing Page Entry** (2):
- [ ] `src/pages/index.tsx`
- [ ] `src/pages/index.module.css`

**Hero Component** (2):
- [ ] `src/pages/components/Hero/Hero.tsx`
- [ ] `src/pages/components/Hero/Hero.module.css`

**Footer Component** (2):
- [ ] `src/pages/components/Footer/Footer.tsx`
- [ ] `src/pages/components/Footer/Footer.module.css`

**Optional Button Component** (2):
- [ ] `src/pages/components/Button/Button.tsx` (optional - can use Infima classes directly)
- [ ] `src/pages/components/Button/Button.module.css` (optional)

**Static Assets** (1):
- [ ] `static/img/hero-robot.webp` (or .svg placeholder)

**Styling** (1):
- [ ] `src/css/custom.css` (update: focus indicators, color overrides)

**Documentation** (4):
- [x] `specs/006-landing-page/spec.md` (already created)
- [x] `specs/006-landing-page/plan.md` (this file)
- [x] `specs/006-landing-page/research.md` (already created)
- [x] `specs/006-landing-page/data-model.md` (already created)
- [x] `specs/006-landing-page/quickstart.md` (already created)
- [ ] `specs/006-landing-page/tasks.md` (generated by /sp.tasks)

**Total New Files**: ~11-15 files (depending on Button component inclusion)

---

**Plan Status**: ✅ COMPLETE - Ready for `/sp.tasks`
